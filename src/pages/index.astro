---
import Layout from "../layouts/Layout.astro";
import ProfileCard from "../components/features/profile-card/ProfileCard.astro";
import MeshGradient from "../components/ui/MeshGradient.astro";
import HomePage from "../components/HomePage.astro";
import Sidebar from "../components/layout/Sidebar.astro";
---

<Layout>
  {/* ProfileCard renders immediately - no data dependency */}
  <main class="min-h-screen relative">
    {/* Background */}
    <MeshGradient />

    {/* Two-column layout: Sidebar + Content */}
    <div class="relative z-10 flex min-h-screen">
      {/* Sidebar - Desktop only (hidden on mobile) */}
      <Sidebar />

      {/* Main content area */}
      <div
        class="flex-1 min-w-0 container mx-auto px-4 py-8 sm:py-12 max-w-7xl"
      >
        {
          /* Profile Card - Mobile only (hidden on desktop when sidebar is visible) */
        }
        <div class="lg:hidden max-w-4xl mx-auto mb-12">
          <ProfileCard variant="default" />
        </div>

        {/* Links section - fetches data from Google Sheets */}
        <HomePage />
      </div>
    </div>
  </main>
</Layout>
