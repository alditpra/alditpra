---
/**
 * PromptLayout.astro
 * Shared layout component for all prompt generators.
 * Provides consistent 2-column layout, glassmorphic styling, and slots for customization.
 */
import ToolPageLayout from "../../layouts/ToolPageLayout.astro";

interface Props {
  title: string;
  subtitle: string;
  description: string;
  formTitle?: string;
}

const { title, subtitle, description, formTitle = "Detail" } = Astro.props;
---

<ToolPageLayout
  title={title}
  subtitle={subtitle}
  description={description}
  themeColor="candy-purple"
>
  {/* Forward slots to ToolPageLayout explicitly or handle them internally */}
  {/* Forward slots to ToolPageLayout explicitly or handle them internally */}
  <slot name="header-extra" slot="header-extra" />

  {/* Main Content Area */}
  <div class="max-w-7xl mx-auto">
    {/* Type Seletor - Moved from Header to Top of Body for consistency */}
    <div
      class="mb-8 p-6 rounded-3xl bg-white/70 dark:bg-zinc-900/70 border border-white/60 dark:border-zinc-700/50 shadow-lg"
    >
      <slot name="type-selector" />
    </div>

    {/* Main Two-Column Layout */}
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      {/* Left Column - Form */}
      <div class="order-2 lg:order-1">
        <div
          class="relative rounded-3xl p-6 sm:p-8 bg-white/70 dark:bg-zinc-900/70 transition-all duration-300"
          style="box-shadow: 0 0 60px -15px rgba(127, 115, 255, 0.15), 0 25px 80px -25px rgba(20, 208, 240, 0.10), 0 8px 32px -8px rgba(0, 0, 0, 0.1);"
        >
          <div
            class="absolute inset-0 bg-gradient-to-br from-candy-purple/5 via-transparent to-candy-teal/5 pointer-events-none rounded-3xl"
          >
          </div>
          <div class="relative">
            <h2
              class="text-xl font-bold mb-6 flex items-center gap-3"
              style="color: var(--text-primary);"
            >
              <div
                class="w-10 h-10 rounded-xl flex items-center justify-center
                          bg-candy-purple/20
                          text-[color:color-mix(in_srgb,var(--candy-purple),black_30%)] dark:text-[color:color-mix(in_srgb,var(--candy-purple),white_40%)]"
                style="box-shadow: 0 0 25px -5px var(--candy-purple), 0 8px 25px -10px var(--candy-purple);"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 20h9"></path>
                  <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path>
                  <path d="m15 5 3 3"></path>
                </svg>
              </div>
              {formTitle}
            </h2>
            <slot name="form" />
          </div>
        </div>
      </div>

      {/* Right Column - Live Preview */}
      <div class="order-1 lg:order-2 lg:sticky lg:top-8 lg:self-start h-fit">
        <slot name="preview" />
      </div>
    </div>

    {/* Footer Note */}
    <div
      class="max-w-3xl mx-auto mt-12 relative rounded-3xl p-6
                bg-white/70 dark:bg-zinc-900/70 transition-all duration-300"
      style="box-shadow: 0 0 40px -15px rgba(127, 115, 255, 0.1), 0 15px 60px -25px rgba(20, 208, 240, 0.08), 0 8px 32px -8px rgba(0, 0, 0, 0.05);"
    >
      <div
        class="absolute inset-0 bg-gradient-to-br from-candy-purple/3 via-transparent to-candy-teal/3 pointer-events-none rounded-3xl"
      >
      </div>
      <div class="relative">
        <p class="text-sm text-center" style="color: var(--text-secondary);">
          ðŸ’¡ <strong>Tips:</strong> Prompt yang dihasilkan dapat disesuaikan sesuai
          kebutuhan. Semakin detail informasi yang diberikan, semakin baik hasil promptnya.
        </p>
      </div>
    </div>
  </div>
</ToolPageLayout>
